<!-- app/views/tasks/edit.html.erb -->
<turbo-frame id="task_<%= @task.id %>">
  <div class="card mb-3">
    <div class="card-header">
      <h5>Edit Task</h5>
    </div>
    <div class="card-body">
      <%= form_with model: @task, local: true do |form| %>
        <% if @task.errors.any? %>
          <div class="alert alert-danger">
            <ul class="mb-0">
              <% @task.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <%= form.label :title, class: "form-label" %>
              <%= form.text_field :title, class: "form-control", required: true %>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="mb-3">
              <%= form.label :due_date, class: "form-label" %>
              <%= form.date_field :due_date, class: "form-control" %>
            </div>
          </div>
        </div>

        <div class="mb-3">
          <%= form.label :description, class: "form-label" %>
          <%= form.text_area :description, rows: 2, class: "form-control" %>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <%= form.label :priority, class: "form-label" %>
              <%= form.select :priority, [
                ['Low', 'low'],
                ['Medium', 'medium'],
                ['High', 'high']
              ], {}, { class: "form-select" } %>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="mb-3">
              <%= form.label :status, class: "form-label" %>
              <%= form.select :status, [
                ['Pending', 'pending'],
                ['In Progress', 'in_progress'],
                ['Completed', 'completed']
              ], {}, { class: "form-select" } %>
            </div>
          </div>
        </div>

        <div class="d-flex gap-2">
          <%= form.submit "Update Task", class: "btn btn-primary" %>
          <%= link_to "Cancel", tasks_path, class: "btn btn-secondary" %>
        </div>
      <% end %>
    </div>
  </div>
</turbo-frame>